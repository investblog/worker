# RU Mobile Redirect Worker

Этот репозиторий содержит пример Cloudflare Worker, который перенаправляет только мобильный трафик из заданной страны (по умолчанию из России) на указанный fallback URL. Все остальные запросы проходят напрямую.

## Быстрый старт

1. Склонируйте репозиторий и установите зависимости (опционально для локальной разработки):

   ```bash
   npm install
   ```

2. Укажите переменную `FALLBACK_URL` при создании Worker через Cloudflare Dashboard или в `wrangler.toml`.
3. (Опционально) задайте `REDIRECT_COUNTRY` для выбора страны редиректа (по умолчанию `RU`).
4. (Опционально) задайте `DISABLE_RU_MOBILE_REDIRECT=true`, чтобы временно отключить редирект.
5. (Опционально) установите `INCLUDE_IPAD=true`, чтобы перенаправлять также пользователей iPad.
6. Добавьте маршруты вида `domain/*` в настройках Worker.

Для локального запуска используйте:

```bash
npm run dev
```

Деплой осуществляется командой:

```bash
npm run deploy
```

Worker размещён в `src/worker.js`. Его можно легко расширить для поддержки нескольких доменов и разных fallback-адресов.

## Версионирование

Информация об изменениях публикуется в файле [CHANGELOG.md](CHANGELOG.md). Текущая версия проекта — **0.4.0**.

